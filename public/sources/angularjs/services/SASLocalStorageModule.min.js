var angularLocalStorage=angular.module("sasLocalStorageModule",[]);angularLocalStorage.constant("prefix","smartadserver_");angularLocalStorage.constant("notify",{setItem:!0,removeItem:!1});
angularLocalStorage.service("localStorageService",["$rootScope","prefix","notify",function(c,d,h){"."!==d.substr(-1)&&(d=d?d+".":"");var f=function(){try{return Modernizr?Modernizr.localStorage:"localStorage"in window&&null!==window.localStorage}catch(a){return c.$broadcast("LocalStorageModule.notification.error",a.message),!1}},j=function(a){if(!f())return c.$broadcast("LocalStorageModule.notification.warning","LOCAL_STORAGE_NOT_SUPPORTED"),!1;try{localStorage.removeItem(d+a),h.removeItem&&c.$broadcast("LocalStorageModule.notification.removeitem",
{key:a,storageType:"localStorage"})}catch(b){return c.$broadcast("LocalStorageModule.notification.error",b.message),!1}return!0};return{isSupported:f,add:function(a,b){if(!f())return c.$broadcast("LocalStorageModule.notification.warning","LOCAL_STORAGE_NOT_SUPPORTED"),!1;if(!b&&0!==b&&""!==b)return!1;try{localStorage.setItem(d+a,JSON.stringify(b)),h.setItem&&c.$broadcast("LocalStorageModule.notification.setitem",{key:a,newvalue:b,storageType:"localStorage"})}catch(e){return c.$broadcast("LocalStorageModule.notification.error",
e.message),!1}return!0},get:function(a,b,e,g){b&&"[object Function]"==={}.toString.call(b)&&(g=e=b,b="string");void 0==b&&(b="string");if(!f())return c.$broadcast("LocalStorageModule.notification.warning","LOCAL_STORAGE_NOT_SUPPORTED"),void 0!=g?g():null;a=localStorage.getItem(d+a);if(!a)return void 0!=g?g():null;switch(b.toLowerCase()){case "integer":a=parseInt(a);break;case "float":a=parseFloat(a);break;case "boolean":a="true"==a.toLowerCase();break;case "json":a=JSON&&JSON.parse(json)||$.parseJSON(json)}return e(a)},
remove:j,clearAll:function(){if(!f())return c.$broadcast("LocalStorageModule.notification.warning","LOCAL_STORAGE_NOT_SUPPORTED"),!1;var a=d.length,b;for(b in localStorage)if(b.substr(0,a)===d)try{j(b.substr(a))}catch(e){return c.$broadcast("LocalStorageModule.notification.error",e.message),!1}return!0}}}]);